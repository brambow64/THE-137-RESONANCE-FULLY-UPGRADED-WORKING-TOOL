<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>L-137 Field Modulator • Σ₉</title>
<style>
  body,html{margin:0;height:100%;background:#000;overflow:hidden;color:#0ff;font-family:monospace;}
  canvas{position:fixed;top:0;left:0;}
  #overlay{position:fixed;top:20px;left:20px;z-index:10;opacity:0.8;}
</style>
</head>
<body>

<canvas id="c"></canvas>
<div id="overlay">
  Σ₉: <span id="sigma">0</span><br>
  t: <span id="time">0</span>s | Tik voor birth event | Double-tap fullscreen
</div>

<script>
const c = document.getElementById('c');
const ctx = c.getContext('2d');
const sigmaEl = document.getElementById('sigma');
const timeEl = document.getElementById('time');

function resize() {
  c.width = innerWidth;
  c.height = innerHeight;
}
window.onresize = resize;
resize();

const PHI = (1 + Math.sqrt(5)) / 2;
let t = 0;
let sigma9 = 0;

// DIRECT START – geen start-scherm, geen klik
loop();

function loop() {
  t += 0.016;

  // Achtergrond fade
  ctx.fillStyle = 'rgba(0,0,0,0.05)';
  ctx.fillRect(0,0,c.width,c.height);

  // Centrum
  const cx = c.width/2;
  const cy = c.height/2;

  // 3-6-9 + Schumann + 1/137 pulse
  const pulse369 = Math.sin(t*3*2*Math.PI) + Math.sin(t*6*2*Math.PI) + Math.sin(t*9*2*Math.PI);
  const schumann = Math.sin(t*7.83*2*Math.PI);
  const alphaPulse = Math.sin(t/137);
  const resonance = pulse369*0.3 + schumann*0.4 + alphaPulse*0.2;

  // Ademende gouden ring (Φ)
  const breath = 120 + Math.sin(t*7.83)*60 + resonance*40;
  ctx.strokeStyle = `hsl(${40 + resonance*20}, 100%, 60%)`;
  ctx.lineWidth = 6 + Math.abs(resonance)*5;
  ctx.beginPath();
  ctx.arc(cx, cy, breath, 0, Math.PI*2);
  ctx.stroke();

  // Birth events bij sterke resonantie
  if (Math.abs(resonance) > 1.8) {
    ctx.fillStyle = `rgba(255,${100+resonance*60},0,0.7)`;
    for(let i=0;i<5;i++){
      const angle = Math.random()*Math.PI*2;
      const dist = 50 + Math.random()*200;
      ctx.beginPath();
      ctx.arc(cx + Math.cos(angle)*dist, cy + Math.sin(angle)*dist, 20+Math.random()*40, 0, Math.PI*2);
      ctx.fill();
    }
  }

  // Σ₉ teller (jouw echte formule hier als je die hebt)
  sigma9 = Math.floor(13847 + t * 3200 + resonance * 12000);
  sigmaEl.textContent = sigma9.toLocaleString();
  timeEl.textContent = t.toFixed(1);

  requestAnimationFrame(loop);
}

// Interacties
c.onclick = () => {
  ctx.fillStyle = 'rgba(255,100,0,0.9)';
  ctx.beginPath();
  ctx.arc(c.width/2, c.height/2, 300, 0, Math.PI*2);
  ctx.fill();
};

c.ondblclick = () => {
  if (!document.fullscreenElement) c.requestFullscreen();
};
</script>
</body>
</html>
